== CU-10 Extender estancia
[cols="25,~",options="header"]
|===
| ID | CU-10
| Nombre | Extender estancia
| Autor | Alan Raziel Filobello Aguilar
| Fecha de actualización | 03 de octubre de 2025
| Descripción | El recepcionista extiende la fecha/hora de salida de una estancia activa. El sistema valida disponibilidad, políticas y tarifas aplicables, actualiza la vigencia y registra la acción en auditoría.
| Actor(es) | Recepcionista
| Disparador | El recepcionista selecciona extender estancia.
| Precondiciones | -PRE-01: El recepcionista está autenticado en el sistema. +
-PRE-02: Existe una estancia activa.
| Flujo normal |
1.- El sistema solicita identificador de estancia y nueva fecha/hora de salida. +
2.- El recepcionista proporciona el identificador y la nueva fecha/hora. +
3.- El sistema verifica disponibilidad para el periodo, calcula costo adicional y solicita confirmación y garantía adicional si aplica. (Ver FA 3.1) (Ver FA 3.2) (Ver EX 1) +
4.- El recepcionista confirma la extensión e indica el medio de garantía/cobro. +
5.- El sistema aplica la extensión, actualiza tarifas/fechas, procesa garantía, emite confirmación y registra en auditoría. (Ver EX 2) +
6.- El recepcionista acusa recibo de la confirmación. +
7.- El sistema muestra el nuevo detalle de la estancia. +
8.- El recepcionista cierra la atención. +
9.- Termina el caso de uso.
| Flujos alternos |
FA 3.1 Habitación no disponible para todo el periodo. +
1.- El sistema ofrece alternativas (otra habitación o acortar la extensión) y solicita decisión. +
2.- El recepcionista elige alternativa. +
3.- El sistema aplica la decisión, recalcula costo, registra en auditoría y continúa en el paso 4. +
FA 3.2 Garantía adicional requerida. +
1.- El sistema calcula garantía adicional y solicita autorización. +
2.- El recepcionista autoriza o rechaza. +
3.- El sistema procesa la garantía y continúa en el paso 4 o finaliza si se rechaza.
| Excepciones |
EX 1 – Restricción por política (máximo de noches/noches bloqueadas). +
1.- El sistema informa la restricción y registra el evento. +
2.- El recepcionista decide ajustar fechas o cancelar. +
3.- El sistema regresa al paso 1 o finaliza. +
EX 2 – Falla de cobro o de persistencia. +
1.- El sistema informa el error y registra el incidente en auditoría. +
2.- El recepcionista decide reintentar o finalizar. +
3.- El sistema regresa al paso 4 o termina.
| Postcondiciones | POST-01: La estancia queda extendida con las nuevas fechas/garantías registradas. +
POST-02: El movimiento queda registrado en la bitácora de auditoría.
| Reglas de negocio |
|===
