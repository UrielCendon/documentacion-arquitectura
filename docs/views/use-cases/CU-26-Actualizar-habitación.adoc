== CU-26 Actualizar habitación
[cols="25,~",options="header"]
|===
| ID | CU-26
| Nombre | Actualizar habitación
| Autor | Miguel Eduardo Escobar Ladron De Guevara
| Fecha de actualización | 04 de octubre de 2025
| Descripción | Permite modificar información de una habitación, incluyendo cambiar su tipo de habitación dentro del mismo hotel.
| Actor(es) | Gerente
| Disparador | El gerente da clic en Actualizar habitación.
| Precondiciones | -PRE-01: El gerente está autenticado. +
-PRE-02 La habitación existe en un hotel asignado al gerente.
| Flujo normal |
1.- El sistema muestra filtros con selector de hotel (preseleccionado si solo hay uno). (Ver FA 1.1) +
2.- El gerente busca y selecciona la habitación a editar. +
3.- El sistema muestra el formulario con datos actuales (número, piso, tipo, estado, características, etc.). +
4.- El gerente edita los campos, pudiendo cambiar el tipo de habitación, y confirma. +
5.- El sistema valida unicidad del número en el hotel y consistencia con reservas/estancias vigentes, y actualiza la información, así como muestra un mensaje de éxito de la operación, registrando el movimiento. (Ver FA 5.1) (Ver FA 5.2) (Ver EX 1) +
6.- Termina el caso de uso.
| Flujos alternos |
FA 1.1 El gerente cancela la operación. +
1.- Confirmación de cancelación. +
2.- Si confirma, se descartan cambios y se vuelve a la lista. +
3.- Termina el caso de uso. +
FA 5.1 - Número de habitación duplicado en el hotel. +
1.- Mensaje de error; no se actualiza. +
2.- Regresa al paso 4 del flujo normal. +
FA 5.2 - Cambio de tipo incompatible por reservas/estancias activas. +
1.- Mensaje de error indicando que no puede cambiarse el tipo mientras existan estancias activas o reservaciones futuras. +
2.- Regresa al paso 4 del flujo normal.
| Excepciones |
EX 1 - El sistema no puede conectarse a la base de datos. +
1.- El sistema muestra un mensaje de error, sugiriendo intentar más tarde y registrando el incidente. +
2.- Termina el caso de uso. +
| Postcondiciones | POST-01: La habitación queda actualizada en el sistema.
|Reglas de negocio|
|===
