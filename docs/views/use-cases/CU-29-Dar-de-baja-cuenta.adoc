== CU-29 Dar de baja cuenta
[cols="25,~",options="header"]
|===
| ID | CU-29
| Nombre | Dar de baja cuenta
| Autor | Alan Raziel Filobello Aguilar
| Fecha de actualización | 03 de octubre de 2025
| Descripción | El huésped solicita la baja lógica de su cuenta. El sistema verifica dependencias (estancias/saldos), ejecuta la desactivación y registra la operación en la bitácora de auditoría.
| Actor(es) | Huésped
| Disparador | El huésped selecciona dar de baja su cuenta.
| Precondiciones | -PRE-01: El huésped está autenticado en el sistema. +
-PRE-02: La cuenta del huésped existe y está activa. +
-PRE-03: No existen estancias activas ni saldos pendientes asociados a la cuenta.
| Flujo normal |
1.- El sistema solicita confirmación de baja y motivo. +
2.- El huésped confirma la baja e indica el motivo. +
3.- El sistema valida condiciones (estancias/saldos/obligaciones) y solicita ratificar la decisión, ofreciendo opciones de tratamiento de datos. (Ver FA 3.1) (Ver EX 1) +
4.- El huésped ratifica la baja y elige opciones (p. ej., solicitar exportación de datos). +
5.- El sistema desactiva la cuenta (baja lógica), revoca sesiones, agenda procesos de conservación/anonimización y registra la operación en la bitácora de auditoría. (Ver EX 2) +
6.- El huésped acusa recibo del comprobante de baja. +
7.- El sistema confirma el estado final de la cuenta. +
8.- El huésped concluye la interacción. +
9.- Termina el caso de uso.
| Flujos alternos |
FA 3.1 Se detectaron dependencias (estancias/saldos). +
1.- El sistema informa las dependencias y propone resolverlas antes de la baja. +
2.- El huésped decide resolver ahora o cancelar la solicitud. +
3.- El sistema registra la decisión en auditoría y regresa al paso 1 del flujo normal tras resolver, o finaliza si se cancela.
| Excepciones |
EX 1 – Reautenticación fallida o credenciales inválidas. +
1.- El sistema solicita reautenticación por seguridad y rechaza la operación si falla; registra el evento. +
2.- El huésped reintenta o desiste. +
3.- El sistema regresa al paso 1 o finaliza. +
EX 2 – Falla de persistencia/conectividad. +
1.- El sistema informa el error y registra el incidente en auditoría. +
2.- El huésped decide reintentar más tarde. +
3.- Termina el caso de uso.
| Postcondiciones | POST-01: La cuenta queda desactivada (baja lógica) y las sesiones vigentes quedan revocadas. +
POST-02: La acción queda registrada en la bitácora de auditoría.
| Reglas de negocio |
|===
