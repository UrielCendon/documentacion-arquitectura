
== CU-11 Registrar hotel
[cols="25,~",options="header"]
|===
|Campo|Valor
|ID|CU-11
|Nombre|Registrar hotel
|Autor|Miguel
|Fecha de actualización|03 de octubre de 2025
|Descripción|Permite registrar un nuevo hotel de la cadena, seleccionar a su *Gerente* y configurar sus *servicios adicionales* (p. ej., spa, estacionamiento, desayuno).
|Actor(es)|Administrador
|Disparador|El administrador da clic en la opción *Registrar hotel*.
|Precondiciones|
- El administrador está autenticado en el sistema.
- Existe al menos un *Gerente* registrado y activo en el sistema.

|Flujo normal|
. El sistema muestra el formulario para registrar hotel (código, nombre comercial, razón social opcional, dirección, ciudad, país, zona horaria, teléfono, correo, políticas de check-in/check-out).
. El administrador captura los datos generales del hotel.
. El sistema muestra el selector de *Gerente* (lista de gerentes activos).
. El administrador selecciona al *Gerente* que administrará el hotel. (Ver *EX 3*)
. El sistema muestra el panel *Servicios adicionales* con: listado de servicios del catálogo y la opción *Agregar servicio personalizado* (nombre, descripción, unidad de cobro: por noche/por estancia, precio, horario, impuestos, estatus).
. El administrador selecciona servicios del catálogo y/o agrega servicios personalizados con sus parámetros. (Ver *FA 6.1*)
. El sistema valida campos obligatorios, unicidad de *código*, validez del *Gerente* seleccionado y consistencia de configuración de servicios (precios numéricos, unidades válidas). (Ver *EX 2*)
. El sistema registra el hotel, asocia el *Gerente* y los servicios configurados; muestra mensaje de éxito. (Ver *EX 1*)
. Termina el caso de uso.

|Flujos alternos|
* *FA 6.1 El administrador decide no configurar servicios ahora*
** El sistema permite continuar sin servicios y muestra un recordatorio de que pueden configurarse después en *Actualizar hotel*.
** Regresa al paso 7 del flujo normal.

|Excepciones|
* *EX 1 – El sistema no puede conectarse a la base de datos*
** El sistema muestra mensaje de error e indica intentar nuevamente más tarde.
** Termina el caso de uso.
* *EX 2 – Datos inválidos o duplicados*
** Código de hotel duplicado o valores de servicio inválidos (precio no numérico, unidad no permitida, etc.).
** El sistema muestra el detalle del error.
** Regresa al paso 2 (datos del hotel) o 6 (servicios), según corresponda.
* *EX 3 – Gerente no válido o inactivo*
** El sistema muestra *El gerente seleccionado no es válido o no está activo*.
** Regresa al paso 4 del flujo normal.

|Postcondiciones|
- El hotel queda registrado, con un *Gerente* asignado y, si se configuraron, los servicios adicionales asociados y activos.

|Reglas de negocio|
- RN-10
- RN-11
- RN-12
- RN-16
|===

